"use strict";(self.webpackChunkfactorio_blueprint=self.webpackChunkfactorio_blueprint||[]).push([[805],{805:function(n,e,i){i.r(e),i.d(e,{default:function(){return X}});var t=i(294),a=i(379),l=i.n(a),r=i(795),s=i.n(r),o=i(569),c=i.n(o),g=i(565),u=i.n(g),d=i(216),p=i.n(d),A=i(589),_=i.n(A),h=i(548),m={};m.styleTagTransform=_(),m.setAttributes=u(),m.insert=c().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=p(),l()(h.Z,m);var f=h.Z&&h.Z.locals?h.Z.locals:void 0;let b,y,v,C;!function(n){n[n.latest=281479276527617]="latest"}(b||(b={})),function(n){n.Fluid="fluid",n.Item="item",n.Virtual="virtual",n.Tile="tile",n.Recipe="recipe"}(y||(y={})),function(n){n.constant_combinator="constant-combinator",n.substation="substation",n.arithmetic_combinator="arithmetic-combinator",n.small_lamp="small-lamp",n.medium_electric_pole="medium-electric-pole"}(v||(v={})),function(n){n.addition="+",n.subtraction="âˆ’",n.multiplication="*",n.division="/",n.modulo="%",n.exponentiation="^",n.left_bit_shift="<<",n.right_bit_shift=">>",n.and="AND",n.or="OR",n.xor="XOR"}(C||(C={}));const w={signal_red:{type:y.Virtual,name:"signal-red"},signal_green:{type:y.Virtual,name:"signal-green"},signal_blue:{type:y.Virtual,name:"signal-blue"},signal_yellow:{type:y.Virtual,name:"signal-yellow"},signal_pink:{type:y.Virtual,name:"signal-pink"},signal_cyan:{type:y.Virtual,name:"signal-cyan"},signal_white:{type:y.Virtual,name:"signal-white"},signal_black:{type:y.Virtual,name:"signal-black"},signal_0:{type:y.Virtual,name:"signal-0"},signal_1:{type:y.Virtual,name:"signal-1"},signal_2:{type:y.Virtual,name:"signal-2"},signal_3:{type:y.Virtual,name:"signal-3"},signal_4:{type:y.Virtual,name:"signal-4"},signal_5:{type:y.Virtual,name:"signal-5"},signal_6:{type:y.Virtual,name:"signal-6"},signal_7:{type:y.Virtual,name:"signal-7"},signal_8:{type:y.Virtual,name:"signal-8"},signal_9:{type:y.Virtual,name:"signal-9"},signal_each:{type:y.Virtual,name:"signal-each"},signal_a:{type:y.Virtual,name:"signal-A"},signal_b:{type:y.Virtual,name:"signal-B"},signal_c:{type:y.Virtual,name:"signal-C"},signal_d:{type:y.Virtual,name:"signal-D"},signal_e:{type:y.Virtual,name:"signal-E"},signal_f:{type:y.Virtual,name:"signal-F"},signal_g:{type:y.Virtual,name:"signal-G"},signal_h:{type:y.Virtual,name:"signal-H"},signal_i:{type:y.Virtual,name:"signal-I"},signal_j:{type:y.Virtual,name:"signal-J"}},x=[w.signal_white,w.signal_cyan,w.signal_pink,w.signal_yellow,w.signal_blue,w.signal_green,w.signal_red],k=[w.signal_0,w.signal_1,w.signal_2,w.signal_3,w.signal_4,w.signal_5,w.signal_6,w.signal_7,w.signal_8,w.signal_9,w.signal_a,w.signal_b,w.signal_c,w.signal_d,w.signal_e,w.signal_f,w.signal_g,w.signal_h,w.signal_i,w.signal_j];function V(n,e){var i,t,a,l=16777215;for(a=0;a<n.length;a++)(t=E(n[a],e))<l&&(l=t,i=n[a]);return i}function E(n,e){return n.length&&e.length?E(n.slice(2),e.slice(2))+Math.abs(parseInt(n.slice(0,2),16)-parseInt(e.slice(0,2),16)):0}function B(n){var e=n.toString(16);return 1==e.length?"0"+e:e}function R(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}class I{constructor(n,e,i){R(this,"icons",void 0),R(this,"entities",void 0),R(this,"item",void 0),R(this,"version",void 0),this.icons=n,this.entities=e,this.item="blueprint",this.version=i}}function Z(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}class F{constructor(n,e,i,t,a,l,r,s){Z(this,"entity_number",void 0),Z(this,"name",void 0),Z(this,"position",void 0),Z(this,"connections",void 0),Z(this,"direction",void 0),Z(this,"control_behavior",void 0),Z(this,"neighbours",void 0),this.entity_number=n,this.name=e,this.position={x:i,y:t},this.connections=a,this.direction=l,this.control_behavior=r,this.neighbours=s}}function N(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}class Q{constructor(n,e){N(this,"signal",void 0),N(this,"index",void 0),this.signal=n,this.index=e}}var S=i(707),W=i(409),q=i(410),O={};O.styleTagTransform=_(),O.setAttributes=u(),O.insert=c().bind(null,"head"),O.domAPI=s(),O.insertStyleElement=p(),l()(q.Z,O);var P=q.Z&&q.Z.locals?q.Z.locals:void 0,U=({size:n,progress:e,trackWidth:i=10,trackColor:a="#ddd",indicatorWidth:l=10,indicatorColor:r="#07c",indicatorCap:s="round",label:o="Loading...",labelColor:c="#333",spinnerMode:g=!1,spinnerSpeed:u=1})=>{const d=n/2,p=d-(i>l?i:l),A=2*Math.PI*p,_=A*((100-e)/100);let h=!!(n<100||!o.length||g);return t.createElement("div",{className:P["loader--wrapper"],style:{width:n,height:n}},t.createElement("svg",{className:P.loader,style:{width:n,height:n}},t.createElement("circle",{cx:d,cy:d,fill:"transparent",r:p,stroke:a,strokeWidth:i}),t.createElement("circle",{style:{animationDuration:""+1e3*u},cx:d,cy:d,fill:"transparent",r:p,stroke:r,strokeWidth:l,strokeDasharray:A,strokeDashoffset:_,strokeLinecap:s})),!h&&t.createElement("div",{className:P["loader--label"],style:{color:c}},t.createElement("span",{className:P["loader--label__loading"]},o),!g&&t.createElement("span",{className:P["loader--label__progress"]},`${e}%`)))},X=({resultCanvas:n})=>{const[e,i]=(0,t.useState)(),[a,l]=(0,t.useState)(0);return(0,t.useEffect)((()=>((async()=>{(async(n,e,i,t,a)=>{for(var l=4,r=[4],s=[4];l+9<9*Math.ceil(n/9);)r.push(l+9),l+=9;for(l=4;l+9<9*Math.ceil(e/9);)s.push(l+9),l+=9;var o=[],c=0,g=0;for(o.push(new F(1e8,v.constant_combinator,-1,-1,{1:{red:[{entity_id:99999999}]}},void 0,{filters:[{signal:w.signal_red,count:-6,index:1},{signal:w.signal_green,count:-5,index:2},{signal:w.signal_blue,count:-4,index:3},{signal:w.signal_yellow,count:-3,index:4},{signal:w.signal_pink,count:-2,index:5},{signal:w.signal_cyan,count:-1,index:6},{signal:w.signal_white,count:1,index:7}]}));g<n;){let t=[];for(let n=0;n<i[g].length;n++)t.push({signal:k[n],count:i[g][n],index:n+1});for(let t=0;t<i[g].length;t++){let a=[];for(let n=0;n<i[g][t].length;n++)a.push({signal:k[n],count:i[g][t][n],index:n+1});o.push(new F((n*e*3+g)*(t+1),v.constant_combinator,2*g+1,-6+t,{1:{green:[{entity_id:3*g+t*n*3,circuit_id:1}]}},void 0,{filters:a}))}o.push(new F(1e8-(g+1),v.medium_electric_pole,2*g,-1,{1:{red:[{entity_id:3*g,circuit_id:1},g+1!=n?{entity_id:1e8-(g+2)}:void 0]}})),g++}for(g=0;c<e;){for(;g<n;)s.includes(c)&&r.includes(g)?(o.push(new F(c*n*3+3*g,v.substation,2*g+.5,2*c+.5,{1:{green:[{entity_id:(c+i[0].length-1)*n*3+3*g+3*n,circuit_id:1}]}},void 0,void 0,[r.slice(0,r.length-1).includes(g+9)?c*n*3+3*(g+9):r.includes(g+9)?n*e*3+n+(g+9)*c:void 0,s.slice(0,s.length-1).includes(c+9)?(c+9)*n*3+3*g:s.includes(c+9)?n*e*3+n+(c+9)*g:void 0])),g+=1):(o.push(new F(c*n*3+3*g,v.arithmetic_combinator,2*g+.5,2*c,{1:{green:[c+i[0].length!=e?{entity_id:(c+i[0].length-1)*n*3+3*g+3*n,circuit_id:1}:void 0],red:[c+1!=e?{entity_id:c*n*3+3*g+3*n,circuit_id:1}:void 0,c-1>=0?{entity_id:c*n*3+3*g-3*n,circuit_id:1}:void 0]},2:{red:[{entity_id:c*n*3+3*g+1}]}},6,{arithmetic_conditions:{first_signal:w.signal_each,second_signal:k[Math.floor(c/i[0].length)],operation:"-",output_signal:w.signal_each}})),o.push(new F(c*n*3+3*g+1,v.small_lamp,2*g,2*c+1,{1:{red:[{entity_id:c*n*3+3*g,circuit_id:2},{entity_id:c*n*3+3*g+2}]}},void 0,{circuit_condition:{first_signal:w.signal_white,constant:1,comparator:">"},use_colors:!0})),o.push(new F(c*n*3+3*g+2,v.small_lamp,2*g+1,2*c+1,{1:{red:[{entity_id:c*n*3+3*g+1}]}},void 0,{circuit_condition:{first_signal:w.signal_white,constant:1,comparator:">"},use_colors:!0})),g+=1,console.log(n*c*100/(n*e)),t(n*c*100/(n*e)));g<=r[r.length-1]&&s.includes(c)&&o.push(new F(n*e*3+n+r[r.length-1]*c,v.substation,2*r[r.length-1]+.5,2*c+.5,void 0,void 0,void 0,[s.includes(c+9)?n*e*3+n+(c+9)*r[r.length-1]:void 0])),g=0,c+=1}if(g=0,c<=s[s.length-1])for(;g<n;)r.includes(g)&&o.push(new F(n*e*3+n+s[s.length-1]*g,v.substation,2*g+.5,2*s[s.length-1]+.5,void 0,void 0,void 0,[r.includes(g+9)?n*e*3+n+(g+9)*s[s.length-1]:void 0])),g++;a(new I([new Q(w.signal_white,1)],o,b.latest))})(n.width,n.height,function(n){var e=n.getContext("2d",{willReadFrequently:!0}),i={ff0000:w.signal_red,"0000FF":w.signal_blue,FFFFFF:w.signal_white,FFFF00:w.signal_yellow,"008000":w.signal_green,ffc0cb:w.signal_pink,"30d5c8":w.signal_cyan,"000000":w.signal_black},t=[];for(var a in i)t.push(a);var l=[];let r=[],s=[],o=Math.ceil(n.height/20);for(let a=0;a<n.width;a++){l=[];for(let s=0;s<o;s++){r=[];for(let l=0;l<n.height;l+=o){let n=e.getImageData(a,l,1,1).data,s=(g=n[0],u=n[1],d=n[2],B(g)+B(u)+B(d));s=s.length<6?s.replace(/(.)/g,"$1$1"):s;var c=V(t,s);r.push(-(x.indexOf(i[c])+1))}l.push(r)}s.push(l)}var g,u,d;return s}(n),l,i)})(),()=>{})),[]),t.createElement("div",{className:f["result--container"]},t.createElement("p",{className:f["result--help"]},"Click on blueprint string to copy"),e?t.createElement("p",{className:f.result,onClick:W.Z},(0,S.Z)({blueprint:e})):t.createElement(U,{size:100,progress:a}))}},707:function(n,e,i){var t=i(885),a=i(764);e.Z=n=>{var e=JSON.stringify(n).replace(/(null)|(,null)/g,"").replace(/(\[,)/g,"["),i=(0,t.Wt)(e,{level:9});return 0+a.lW.from(i).toString("base64")}},409:function(n,e,i){function t(n){var e=n.target;navigator.clipboard.writeText(e.innerText).then((()=>{console.log("success")}),(n=>{console.log(n)}))}i.d(e,{Z:function(){return t}})},410:function(n,e,i){var t=i(537),a=i.n(t),l=i(645),r=i.n(l)()(a());r.push([n.id,".oxZrlc5Ys3LtJYQd_n16{transform:rotate(-90deg)}.NgLZ0Ny3vK0xVKEM9QmX{position:relative}.WwNLxQdVxbHHOKThfIPQ{animation:qLORyuUxqR4r4X5EQld1 .75s linear infinite;transform-origin:center}._l4dISkAkqq88QCwdXJI{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);text-align:center}.gG_cRptpe8AnRaqeBiEB{opacity:.5;font-size:.75em;display:block;color:#fff}.DfkUYrRX98auxH529lIV{font-size:1.5em;font-weight:bold;display:block;color:#fff}@keyframes qLORyuUxqR4r4X5EQld1{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}","",{version:3,sources:["webpack://./src/presentation/components/progress_bar/ProgressBar.module.scss"],names:[],mappings:"AAAA,sBACE,wBAAA,CACA,sBACE,iBAAA,CAGF,sBACE,mDAAA,CACA,uBAAA,CAEF,sBACE,iBAAA,CACA,OAAA,CACA,QAAA,CACA,+BAAA,CACA,iBAAA,CACA,sBACE,UAAA,CACA,eAAA,CACA,aAAA,CACA,UAAA,CAEF,sBACE,eAAA,CACA,gBAAA,CACA,aAAA,CACA,UAAA,CAIJ,gCACE,GACE,mBAAA,CAEF,KACE,wBAAA,CAAA",sourcesContent:[".loader {\r\n  transform: rotate(-90deg); \r\n  &--wrapper {\r\n    position: relative;\r\n  }\r\n\r\n  &--indicator--spinner {\r\n    animation: spinner 0.75s linear infinite;\r\n    transform-origin: center;\r\n  }\r\n  &--label {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    text-align: center;\r\n    &__loading {\r\n      opacity: 0.5;\r\n      font-size: 0.75em;\r\n      display: block;\r\n      color: white;\r\n    }\r\n    &__progress {\r\n      font-size: 1.5em;\r\n      font-weight: bold;\r\n      display: block;\r\n      color: white;\r\n    }\r\n\r\n  }\r\n  @keyframes spinner {\r\n    0% {\r\n      transform: rotate(0);\r\n    }\r\n    100% {\r\n      transform: rotate(360deg);\r\n    }\r\n  }\r\n}\r\n\r\n"],sourceRoot:""}]),r.locals={loader:"oxZrlc5Ys3LtJYQd_n16","loader--wrapper":"NgLZ0Ny3vK0xVKEM9QmX","loader--indicator--spinner":"WwNLxQdVxbHHOKThfIPQ",spinner:"qLORyuUxqR4r4X5EQld1","loader--label":"_l4dISkAkqq88QCwdXJI","loader--label__loading":"gG_cRptpe8AnRaqeBiEB","loader--label__progress":"DfkUYrRX98auxH529lIV"},e.Z=r},548:function(n,e,i){var t=i(537),a=i.n(t),l=i(645),r=i.n(l)()(a());r.push([n.id,".UVvVC09WzHp3ePcboyn8{word-break:break-all;max-height:240px;overflow:auto;outline:1px solid #fff}.Zh7u2EWtVSvwRpbPyXbu{color:#fff}.vBkmBBSjaxJKHm0B2Wpj{color:#fff;font-size:46px}","",{version:3,sources:["webpack://./src/presentation/components/result/Result.module.scss"],names:[],mappings:"AAAA,sBACI,oBAAA,CACA,gBAAA,CACA,aAAA,CACA,sBAAA,CACA,sBACI,UAAA,CAEJ,sBACI,UAAA,CACA,cAAA",sourcesContent:[".result{\r\n    word-break: break-all;\r\n    max-height: 240px;\r\n    overflow: auto  ;\r\n    outline: 1px solid white;\r\n    &--container{\r\n        color: white;\r\n    }\r\n    &--help{\r\n        color: white;\r\n        font-size: 46px;\r\n    }\r\n}\r\n\r\n"],sourceRoot:""}]),r.locals={result:"UVvVC09WzHp3ePcboyn8","result--container":"Zh7u2EWtVSvwRpbPyXbu","result--help":"vBkmBBSjaxJKHm0B2Wpj"},e.Z=r}}]);
//# sourceMappingURL=805.min.js.map