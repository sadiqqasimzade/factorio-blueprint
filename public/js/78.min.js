"use strict";(self.webpackChunkfactorio_blueprint=self.webpackChunkfactorio_blueprint||[]).push([[78],{78:function(i,n,e){e.r(n),e.d(n,{default:function(){return D}});var t=e(294),a=e(379),l=e.n(a),s=e(795),r=e.n(s),o=e(569),c=e.n(o),u=e(565),g=e.n(u),h=e(216),d=e.n(h),_=e(589),p=e.n(_),m=e(548),f={};f.styleTagTransform=p(),f.setAttributes=g(),f.insert=c().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=d(),l()(m.Z,f);var v=m.Z&&m.Z.locals?m.Z.locals:void 0;let b,y,w,A,V;!function(i){i[i.latest=281479276527617]="latest"}(b||(b={})),function(i){i.Fluid="fluid",i.Item="item",i.Virtual="virtual",i.Tile="tile",i.Recipe="recipe"}(y||(y={})),function(i){i.constant_combinator="constant-combinator",i.substation="substation",i.arithmetic_combinator="arithmetic-combinator",i.small_lamp="small-lamp",i.medium_electric_pole="medium-electric-pole"}(w||(w={})),function(i){i.concrete="concrete",i.stone_path="stone-path",i.hazard_concrete_left="hazard-concrete-left"}(A||(A={})),function(i){i.addition="+",i.subtraction="âˆ’",i.multiplication="*",i.division="/",i.modulo="%",i.exponentiation="^",i.left_bit_shift="<<",i.right_bit_shift=">>",i.and="AND",i.or="OR",i.xor="XOR"}(V||(V={}));const x={signal_red:{type:y.Virtual,name:"signal-red"},signal_green:{type:y.Virtual,name:"signal-green"},signal_blue:{type:y.Virtual,name:"signal-blue"},signal_yellow:{type:y.Virtual,name:"signal-yellow"},signal_pink:{type:y.Virtual,name:"signal-pink"},signal_cyan:{type:y.Virtual,name:"signal-cyan"},signal_white:{type:y.Virtual,name:"signal-white"},signal_black:{type:y.Virtual,name:"signal-black"},signal_0:{type:y.Virtual,name:"signal-0"},signal_1:{type:y.Virtual,name:"signal-1"},signal_2:{type:y.Virtual,name:"signal-2"},signal_3:{type:y.Virtual,name:"signal-3"},signal_4:{type:y.Virtual,name:"signal-4"},signal_5:{type:y.Virtual,name:"signal-5"},signal_6:{type:y.Virtual,name:"signal-6"},signal_7:{type:y.Virtual,name:"signal-7"},signal_8:{type:y.Virtual,name:"signal-8"},signal_9:{type:y.Virtual,name:"signal-9"},signal_each:{type:y.Virtual,name:"signal-each"},signal_a:{type:y.Virtual,name:"signal-A"},signal_b:{type:y.Virtual,name:"signal-B"},signal_c:{type:y.Virtual,name:"signal-C"},signal_d:{type:y.Virtual,name:"signal-D"},signal_e:{type:y.Virtual,name:"signal-E"},signal_f:{type:y.Virtual,name:"signal-F"},signal_g:{type:y.Virtual,name:"signal-G"},signal_h:{type:y.Virtual,name:"signal-H"},signal_i:{type:y.Virtual,name:"signal-I"},signal_j:{type:y.Virtual,name:"signal-J"}},C=[x.signal_white,x.signal_cyan,x.signal_pink,x.signal_yellow,x.signal_blue,x.signal_green,x.signal_red],k=[x.signal_0,x.signal_1,x.signal_2,x.signal_3,x.signal_4,x.signal_5,x.signal_6,x.signal_7,x.signal_8,x.signal_9,x.signal_a,x.signal_b,x.signal_c,x.signal_d,x.signal_e,x.signal_f,x.signal_g,x.signal_h,x.signal_i,x.signal_j];function F(i,n){var e,t,a,l=16777215;for(a=0;a<i.length;a++)(t=B(i[a],n))<l&&(l=t,e=i[a]);return e}function B(i,n){return i.length&&n.length?B(i.slice(2),n.slice(2))+Math.abs(parseInt(i.slice(0,2),16)-parseInt(n.slice(0,2),16)):0}function Z(i){var n=i.toString(16);return 1==n.length?"0"+n:n}function j(i,n,e){return Z(i)+Z(n)+Z(e)}function I(i){var n=i.getContext("2d",{willReadFrequently:!0}),e={ff0000:x.signal_red,"0000FF":x.signal_blue,FFFFFF:x.signal_white,FFFF00:x.signal_yellow,"008000":x.signal_green,ffc0cb:x.signal_pink,"30d5c8":x.signal_cyan,"000000":x.signal_black},t=[];for(var a in e)t.push(a);var l=[];let s=[],r=[],o=Math.ceil(i.height/20);for(let a=0;a<i.width;a++){l=[];for(let r=0;r<o;r++){s=[];for(let l=0;l<i.height;l+=o){let i=n.getImageData(a,l,1,1).data,r=j(i[0],i[1],i[2]);r=r.length<6?r.replace(/(.)/g,"$1$1"):r;var c=F(t,r);s.push(-(C.indexOf(e[c])+1))}l.push(s)}r.push(l)}return r}function P(i,n,e){return n in i?Object.defineProperty(i,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[n]=e,i}var R=class{constructor(i,n,e){P(this,"icons",void 0),P(this,"entities",void 0),P(this,"tiles",void 0),P(this,"item",void 0),P(this,"version",void 0),this.icons=i,this.entities=n,this.item="blueprint",this.version=b.latest,this.tiles=e}};function E(i,n,e){return n in i?Object.defineProperty(i,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[n]=e,i}var O=class{constructor(i,n,e,t,a,l,s,r){E(this,"entity_number",void 0),E(this,"name",void 0),E(this,"position",void 0),E(this,"connections",void 0),E(this,"direction",void 0),E(this,"control_behavior",void 0),E(this,"neighbours",void 0),this.entity_number=i,this.name=n,this.position={x:e,y:t},this.connections=a,this.direction=l,this.control_behavior=s,this.neighbours=r}};function S(i,n,e){return n in i?Object.defineProperty(i,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[n]=e,i}var W=class{constructor(i,n){S(this,"signal",void 0),S(this,"index",void 0),this.signal=i,this.index=n}},z=(i,n,e)=>{for(var t=4,a=[4],l=[4];t+9<9*Math.ceil(i/9);)a.push(t+9),t+=9;for(t=4;t+9<9*Math.ceil(n/9);)l.push(t+9),t+=9;var s=[],r=0,o=0;for(s.push(new O(1e8,w.constant_combinator,-1,-1,{1:{red:[{entity_id:99999999}]}},void 0,{filters:[{signal:x.signal_red,count:-6,index:1},{signal:x.signal_green,count:-5,index:2},{signal:x.signal_blue,count:-4,index:3},{signal:x.signal_yellow,count:-3,index:4},{signal:x.signal_pink,count:-2,index:5},{signal:x.signal_cyan,count:-1,index:6},{signal:x.signal_white,count:1,index:7}]}));o<i;){let t=[];for(let i=0;i<e[o].length;i++)t.push({signal:k[i],count:e[o][i],index:i+1});for(let t=0;t<e[o].length;t++){let a=[];for(let i=0;i<e[o][t].length;i++)a.push({signal:k[i],count:e[o][t][i],index:i+1});s.push(new O((i*n*3+o)*(t+1),w.constant_combinator,2*o+1,-6+t,{1:{green:[{entity_id:3*o+t*i*3,circuit_id:1}]}},void 0,{filters:a}))}s.push(new O(1e8-(o+1),w.medium_electric_pole,2*o,-1,{1:{red:[{entity_id:3*o,circuit_id:1},o+1!=i?{entity_id:1e8-(o+2)}:void 0]}})),o++}for(o=0;r<n;){for(;o<i;)l.includes(r)&&a.includes(o)?(s.push(new O(r*i*3+3*o,w.substation,2*o+.5,2*r+.5,{1:{green:[{entity_id:(r+e[0].length-1)*i*3+3*o+3*i,circuit_id:1}]}},void 0,void 0,[a.slice(0,a.length-1).includes(o+9)?r*i*3+3*(o+9):a.includes(o+9)?i*n*3+i+(o+9)*r:void 0,l.slice(0,l.length-1).includes(r+9)?(r+9)*i*3+3*o:l.includes(r+9)?i*n*3+i+(r+9)*o:void 0])),o+=1):(s.push(new O(r*i*3+3*o,w.arithmetic_combinator,2*o+.5,2*r,{1:{green:[r+e[0].length!=n?{entity_id:(r+e[0].length-1)*i*3+3*o+3*i,circuit_id:1}:void 0],red:[r+1!=n?{entity_id:r*i*3+3*o+3*i,circuit_id:1}:void 0,r-1>=0?{entity_id:r*i*3+3*o-3*i,circuit_id:1}:void 0]},2:{red:[{entity_id:r*i*3+3*o+1}]}},6,{arithmetic_conditions:{first_signal:x.signal_each,second_signal:k[Math.floor(r/e[0].length)],operation:"-",output_signal:x.signal_each}})),s.push(new O(r*i*3+3*o+1,w.small_lamp,2*o,2*r+1,{1:{red:[{entity_id:r*i*3+3*o,circuit_id:2},{entity_id:r*i*3+3*o+2}]}},void 0,{circuit_condition:{first_signal:x.signal_white,constant:1,comparator:">"},use_colors:!0})),s.push(new O(r*i*3+3*o+2,w.small_lamp,2*o+1,2*r+1,{1:{red:[{entity_id:r*i*3+3*o+1}]}},void 0,{circuit_condition:{first_signal:x.signal_white,constant:1,comparator:">"},use_colors:!0})),o+=1);o<=a[a.length-1]&&l.includes(r)&&s.push(new O(i*n*3+i+a[a.length-1]*r,w.substation,2*a[a.length-1]+.5,2*r+.5,void 0,void 0,void 0,[l.includes(r+9)?i*n*3+i+(r+9)*a[a.length-1]:void 0])),o=0,r+=1}if(o=0,r<=l[l.length-1])for(;o<i;)a.includes(o)&&s.push(new O(i*n*3+i+l[l.length-1]*o,w.substation,2*o+.5,2*l[l.length-1]+.5,void 0,void 0,void 0,[a.includes(o+9)?i*n*3+i+(o+9)*l[l.length-1]:void 0])),o++;return new R([new W(x.signal_white,1)],s)},H=e(707),J=e(409);function M(i,n,e){return n in i?Object.defineProperty(i,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[n]=e,i}class N{constructor(i,n,e){M(this,"position",void 0),M(this,"name",void 0),this.name=e,this.position={x:i,y:n}}}var T=i=>{var n=[],e=i.getContext("2d",{willReadFrequently:!0}),t={"524f46":A.stone_path,585858:A.concrete,"71603d":A.hazard_concrete_left},a=[];for(var l in t)a.push(l);for(let l=0;l<i.height;l++)for(let r=0;r<i.width;r++){let i=e.getImageData(r,l,1,1).data,o=j(i[0],i[1],i[2]);o=o.length<6?o.replace(/(.)/g,"$1$1"):o;var s=F(a,o);n.push(new N(r,l,t[s]))}return new R([new W(x.signal_white,1)],[],n)},D=({resultCanvas:i,convert_to:n})=>t.createElement("div",{className:v["result--container"]},t.createElement("p",{className:v["result--help"]},"Click on blueprint string to copy"),t.createElement("p",{className:v.result,onClick:J.Z},(0,H.Z)({blueprint:"lamp"==n?z(i.width,i.height,I(i)):T(i)})))},707:function(i,n,e){var t=e(885),a=e(764);n.Z=i=>{var n=JSON.stringify(i).replace(/(null)|(,null)/g,"").replace(/(\[,)/g,"["),e=(0,t.Wt)(n,{level:9});return 0+a.lW.from(e).toString("base64")}},409:function(i,n,e){function t(i){var n=i.target;navigator.clipboard.writeText(n.innerText).then((()=>{console.log("success")}),(i=>{console.log(i)}))}e.d(n,{Z:function(){return t}})},548:function(i,n,e){var t=e(537),a=e.n(t),l=e(645),s=e.n(l)()(a());s.push([i.id,".UVvVC09WzHp3ePcboyn8{word-break:break-all;max-height:240px;overflow:auto;outline:1px solid #fff}.Zh7u2EWtVSvwRpbPyXbu{color:#fff}.vBkmBBSjaxJKHm0B2Wpj{color:#fff;font-size:46px}","",{version:3,sources:["webpack://./src/presentation/components/result/Result.module.scss"],names:[],mappings:"AAAA,sBACI,oBAAA,CACA,gBAAA,CACA,aAAA,CACA,sBAAA,CACA,sBACI,UAAA,CAEJ,sBACI,UAAA,CACA,cAAA",sourcesContent:[".result{\r\n    word-break: break-all;\r\n    max-height: 240px;\r\n    overflow: auto  ;\r\n    outline: 1px solid white;\r\n    &--container{\r\n        color: white;\r\n    }\r\n    &--help{\r\n        color: white;\r\n        font-size: 46px;\r\n    }\r\n}\r\n\r\n"],sourceRoot:""}]),s.locals={result:"UVvVC09WzHp3ePcboyn8","result--container":"Zh7u2EWtVSvwRpbPyXbu","result--help":"vBkmBBSjaxJKHm0B2Wpj"},n.Z=s}}]);
//# sourceMappingURL=78.min.js.map