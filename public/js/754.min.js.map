{"version":3,"file":"754.min.js","mappings":"sLAKe,SAASA,EAAcC,GACpC,OAAIA,EAAMC,OAAS,EACV,oBAEJD,EAAM,GAAGE,KAAKC,SAAS,UAGrBH,EAAM,GAFJ,oBAGX,C,yHCFII,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAA1B,IAKO,EAAe,KAAW,WAAiB,gBAAiBM,EC2EnE,EA/FwB,EAAGC,eAEzB,MAAMC,GAAqDC,EAAAA,EAAAA,QAAO,MAC5DC,GAA0DD,EAAAA,EAAAA,QAAO,MACjEE,GAA0DF,EAAAA,EAAAA,QAAO,MACjEG,GACJH,EAAAA,EAAAA,QAAO,MA2DT,OACE,2BACE,yBACEX,KAAM,OACNe,UAAWC,EAAAA,mBACXC,IAAKP,EACLQ,OAAO,UACPC,SAxBN,SAA2BC,GAEzB,GADAA,EAAEC,iBACED,EAAEE,OAAOxB,MAAO,CAClB,IAAIyB,EAAS1B,EAAcuB,EAAEE,OAAOxB,OACpC,GAAqB,iBAAVyB,EACTX,EAAUY,QAAQC,UAAYF,MACzB,CACL,IAAIG,EAAM,IAAIC,MACdD,EAAIE,IAAMC,OAAOC,IAAIC,gBAAgBR,GACrCG,EAAIM,OAAS,KACXvB,EAASiB,EAAI,CAEjB,CACF,CACF,IAYI,uBAAKX,UAAWC,EAAAA,SAAoBC,IAAKJ,GACvC,uBACEE,UAAWC,EAAAA,kBACXiB,YApER,SAAsBb,GACpBA,EAAEC,iBACED,EAAEc,aAAaC,OAASf,EAAEc,aAAaC,MAAMpC,OAAS,GACxDe,EAAiBU,QAAQC,UAAY,gCACrCZ,EAAgBW,QAAQY,UAAUC,IAAIrB,EAAAA,uBAC7BI,EAAEc,aAAaC,OAASf,EAAEc,aAAaC,MAAMpC,OAAS,GAC/Dc,EAAgBW,QAAQY,UAAUC,IAAIrB,EAAAA,kBAE1C,EA6DQsB,YA5DR,SAAuBlB,GACrBA,EAAEC,iBACFR,EAAgBW,QAAQY,UAAUG,OAChCvB,EAAAA,qBACAA,EAAAA,mBAEFF,EAAiBU,QAAQC,UAAY,+BACvC,EAsDQe,OA9CR,SAAwBpB,GAEtB,GADAA,EAAEC,iBACED,EAAEc,aAAaC,MAAO,CACxB,IAAIZ,EAAS1B,EAAcuB,EAAEc,aAAapC,OAC1C,GAAqB,iBAAVyB,EACTX,EAAUY,QAAQC,UAAYF,MACzB,CACL,IAAIG,EAAM,IAAIC,MACdD,EAAIE,IAAMC,OAAOC,IAAIC,gBAAgBR,GACrCG,EAAIM,OAAS,KACXvB,EAASiB,EAAI,CAEjB,CACF,CACF,EAiCQe,QAtDR,SACErB,GAEAV,EAASc,QAAQkB,OACnB,EAmDQC,WAAavB,IACXA,EAAEwB,kBACFxB,EAAEC,gBAAgB,IAGtB,qBAAGJ,IAAKH,EAAkBC,UAAWC,EAAAA,oBAA2B,kCAIlE,qBAAGC,IAAKL,EAAWG,UAAWC,EAAAA,sBAC1B,C,qDC9FN6B,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOC,GAAI,8gBAA+gB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,qFAAqF,MAAQ,GAAG,SAAW,0QAA0Q,eAAiB,CAAC,osBAAosB,WAAa,MAE3qDH,EAAwBI,OAAS,CAChC,SAAY,uBACZ,oBAAqB,uBACrB,iBAAkB,uBAClB,kBAAmB,uBACnB,iBAAkB,uBAClB,kBAAmB,uBACnB,mBAAoB,wBAErB,K","sources":["webpack:///./src/presentation/utils/image/validateFiles.tsx","webpack:///./src/presentation/components/drag_and_drop/FileDragAndDrop.module.scss?8097","webpack:///./src/presentation/components/drag_and_drop/FileDragAndDrop.tsx","webpack:///./src/presentation/components/drag_and_drop/FileDragAndDrop.module.scss"],"sourcesContent":["/**\r\n * \r\n * @param files \r\n * @returns Error string or File if validated\r\n */\r\nexport default function validateFiles(files: FileList): File | string {\r\n  if (files.length < 1) {\r\n    return \"You must add file\";\r\n  }\r\n  if (!files[0].type.includes(\"image/\")) {\r\n    return \"File must be image\";\r\n  }\r\n  return files[0];\r\n}\r\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./FileDragAndDrop.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./FileDragAndDrop.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport validateFiles from \"../../utils/image/validateFiles\";\r\nimport styles from \"./FileDragAndDrop.module.scss\";\r\ntype Props = {\r\n  setImage: React.Dispatch<React.SetStateAction<HTMLImageElement>>;\r\n};\r\nconst FileDragAndDrop = ({ setImage }: Props) => {\r\n  //Refs\r\n  const inputRef: React.MutableRefObject<HTMLInputElement> = useRef(null);\r\n  const resultRef: React.MutableRefObject<HTMLParagraphElement> = useRef(null);\r\n  const dragdropareaRef: React.MutableRefObject<HTMLDivElement> = useRef(null);\r\n  const dragdroptitleRef: React.MutableRefObject<HTMLParagraphElement> =\r\n    useRef(null);\r\n\r\n  //#region handlers\r\n  function handleDragIn(e: React.DragEvent<HTMLDivElement>): void {\r\n    e.preventDefault();\r\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 1) {\r\n      dragdroptitleRef.current.innerText = \"Only first image will be used\";\r\n      dragdropareaRef.current.classList.add(styles[\"dragdrop--warning\"]);\r\n    } else if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\r\n      dragdropareaRef.current.classList.add(styles[\"dragdrop--info\"]);\r\n    }\r\n  }\r\n  function handleDragOut(e: React.DragEvent<HTMLDivElement>): void {\r\n    e.preventDefault();\r\n    dragdropareaRef.current.classList.remove(\r\n      styles[\"dragdrop--warning\"],\r\n      styles[\"dragdrop--info\"]\r\n    );\r\n    dragdroptitleRef.current.innerText = \"Drop Image file here,or click\";\r\n  }\r\n  function handleDivClick(\r\n    e: React.MouseEvent<HTMLDivElement, MouseEvent>\r\n  ): void {\r\n    inputRef.current.click();\r\n  }\r\n  //#endregion\r\n  //#region Input\r\n  function handleDragDrop(e: React.DragEvent<HTMLDivElement>) {\r\n    e.preventDefault();\r\n    if (e.dataTransfer.items) {\r\n      let result = validateFiles(e.dataTransfer.files);\r\n      if (typeof result == \"string\") {\r\n        resultRef.current.innerText = result;\r\n      } else {\r\n        var img = new Image();\r\n        img.src = window.URL.createObjectURL(result);\r\n        img.onload = () => {\r\n          setImage(img);\r\n        };\r\n      }\r\n    }\r\n  }\r\n  function handleInputChange(e: React.ChangeEvent<HTMLInputElement>): void {\r\n    e.preventDefault();\r\n    if (e.target.files) {\r\n      let result = validateFiles(e.target.files);\r\n      if (typeof result == \"string\") {\r\n        resultRef.current.innerText = result;\r\n      } else {\r\n        var img = new Image();\r\n        img.src = window.URL.createObjectURL(result);\r\n        img.onload = () => {\r\n          setImage(img);\r\n        };\r\n      }\r\n    }\r\n  }\r\n  //#endregion\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        type={\"file\"}\r\n        className={styles[\"dragdrop--input\"]}\r\n        ref={inputRef}\r\n        accept=\"image/*\"\r\n        onChange={handleInputChange}\r\n      ></input>\r\n      <div className={styles[\"dragdrop\"]} ref={dragdropareaRef}>\r\n        <div\r\n          className={styles[\"dragdrop--area\"]}\r\n          onDragEnter={handleDragIn}\r\n          onDragLeave={handleDragOut}\r\n          onDrop={handleDragDrop}\r\n          onClick={handleDivClick}\r\n          onDragOver={(e) => {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n          }}\r\n        ></div>\r\n        <p ref={dragdroptitleRef} className={styles[\"dragdrop--title\"]}>\r\n          Drop Image file here,or click\r\n        </p>\r\n      </div>\r\n      <p ref={resultRef} className={styles[\"dragdrop--result\"]}></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileDragAndDrop;\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cjDULH63FaJWtNOnO7rZ{height:200px;border:2px dashed #ff0;background:#061260;margin:10px 0;display:grid;place-items:center;position:relative}._AuD5tED6HSuA1FeUfsH{background:red !important}._U6q5CW763piWN_mS6tQ{background:#0b20ad !important}.Qbu6u0TqLLWhFYcm5Ogr{color:#fff;font-size:x-large;font-weight:bolder;text-align:center}.U_xFtZSKrRRTJRREfbBg{position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0)}.Vocj26vS86pKV2iZp1lm{display:none}.WzaahEa1lAHeAz_oAfDl{color:red;font-size:large;font-weight:bold}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/components/drag_and_drop/FileDragAndDrop.module.scss\"],\"names\":[],\"mappings\":\"AAAA,sBACE,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,aAAA,CACA,YAAA,CACA,kBAAA,CACA,iBAAA,CACA,sBACE,yBAAA,CAEF,sBACE,6BAAA,CAEF,sBACE,UAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CAEF,sBACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,8BAAA,CAEF,sBACE,YAAA,CAEF,sBACE,SAAA,CACA,eAAA,CACA,gBAAA\",\"sourcesContent\":[\".dragdrop {\\r\\n  height: 200px;\\r\\n  border: 2px dashed yellow;\\r\\n  background: #061260;\\r\\n  margin: 10px 0;\\r\\n  display: grid;\\r\\n  place-items: center;\\r\\n  position: relative;\\r\\n  &--warning{\\r\\n    background: red !important;\\r\\n  }  \\r\\n  &--info{\\r\\n    background: #0b20ad !important;\\r\\n  }\\r\\n  &--title {\\r\\n    color: white;\\r\\n    font-size: x-large;\\r\\n    font-weight: bolder;\\r\\n    text-align: center;\\r\\n  }\\r\\n  &--area{\\r\\n    position: absolute;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    background-color: rgba(0,0,0,0);\\r\\n  }\\r\\n  &--input {\\r\\n    display: none;\\r\\n  }\\r\\n  &--result{\\r\\n    color: red;\\r\\n    font-size: large;\\r\\n    font-weight: bold;\\r\\n  }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"dragdrop\": \"cjDULH63FaJWtNOnO7rZ\",\n\t\"dragdrop--warning\": \"_AuD5tED6HSuA1FeUfsH\",\n\t\"dragdrop--info\": \"_U6q5CW763piWN_mS6tQ\",\n\t\"dragdrop--title\": \"Qbu6u0TqLLWhFYcm5Ogr\",\n\t\"dragdrop--area\": \"U_xFtZSKrRRTJRREfbBg\",\n\t\"dragdrop--input\": \"Vocj26vS86pKV2iZp1lm\",\n\t\"dragdrop--result\": \"WzaahEa1lAHeAz_oAfDl\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["validateFiles","files","length","type","includes","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","setImage","inputRef","useRef","resultRef","dragdropareaRef","dragdroptitleRef","className","styles","ref","accept","onChange","e","preventDefault","target","result","current","innerText","img","Image","src","window","URL","createObjectURL","onload","onDragEnter","dataTransfer","items","classList","add","onDragLeave","remove","onDrop","onClick","click","onDragOver","stopPropagation","___CSS_LOADER_EXPORT___","push","module","id","locals"],"sourceRoot":""}