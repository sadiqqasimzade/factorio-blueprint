{"version":3,"file":"183.min.js","mappings":"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","sources":["webpack:///./src/presentation/components/image_editor/ImageEditor.module.scss?6333","webpack:///./src/presentation/components/image_editor/ImageEditor.tsx","webpack:///./src/presentation/components/image_editor/ImageEditor.module.scss"],"sourcesContent":["\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./ImageEditor.module.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./ImageEditor.module.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport styles from \"./ImageEditor.module.scss\";\r\n\r\ntype Props = {\r\n  Image: HTMLImageElement;\r\n  setImage: React.Dispatch<React.SetStateAction<HTMLImageElement>>;\r\n  setresultCanvas: React.Dispatch<React.SetStateAction<HTMLCanvasElement>>;\r\n};\r\n\r\nconst ImageEditor: React.FC<Props> = ({\r\n  Image,\r\n  setImage,\r\n  setresultCanvas,\r\n}: Props) => {\r\n  const maxW = 300,\r\n    maxH = 100,\r\n    minW = 5,\r\n    minH = 5;\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const [width, setWidth] = useState(Image.naturalWidth);\r\n  const [height, setHeight] = useState(Image.naturalHeight);\r\n  const [aspectRatio, setAspectRatio] = useState(true);\r\n\r\n  const handleResize = () => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const context = canvas.getContext(\"2d\");\r\n    if (!context) return;\r\n\r\n    context.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    context.drawImage(Image, 0, 0, width, height);\r\n  };\r\n\r\n  const handleAspectRatioChange = (\r\n    event: React.ChangeEvent<HTMLInputElement>\r\n  ) => {\r\n    setAspectRatio(event.target.checked);\r\n  };\r\n\r\n  const handleWidthChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    let newWidth = Number(event.target.value);\r\n    if (newWidth > maxW) {\r\n      newWidth = maxW;\r\n    }\r\n    if (aspectRatio && Image) {\r\n      let newHeight = (newWidth / Image.width) * Image.height;\r\n      if (newHeight > maxH) {\r\n        setHeight(maxH);\r\n        setWidth((maxH / Image.height) * Image.width);\r\n      } else {\r\n        setHeight(newHeight);\r\n        setWidth(newWidth);\r\n      }\r\n    } else {\r\n      setWidth(newWidth);\r\n    }\r\n  };\r\n\r\n  const handleHeightChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    let newHeight = Number(event.target.value);\r\n    if (newHeight > maxH) {\r\n      newHeight = maxH;\r\n    }\r\n\r\n    if (aspectRatio && Image) {\r\n      let newWidth = (newHeight / Image.height) * Image.width;\r\n      if (newWidth > maxW) {\r\n        setWidth(maxW);\r\n        setWidth((newHeight / Image.height) * maxW);\r\n      } else {\r\n        setWidth(newWidth);\r\n        setHeight(newHeight);\r\n      }\r\n    } else {\r\n      setHeight(newHeight);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleResize();\r\n  }, [width, height]);\r\n\r\n  return (\r\n    <div>\r\n      <div className={styles[\"imageeditor--settings--container\"]}>\r\n        <div className={styles[\"imageeditor--settings\"]}>\r\n          <p className={styles[\"imageeditor--settings--label\"]}>Width</p>\r\n          <input\r\n            type=\"number\"\r\n            value={width}\r\n            className={styles[\"imageeditor--settings--input\"]}\r\n            min={minW}\r\n            max={maxW}\r\n            onChange={handleWidthChange}\r\n          />\r\n          <p className={styles[\"imageeditor--settings--helper\"]}>\r\n            Min:{minW}/Max:{maxW}\r\n          </p>\r\n        </div>\r\n        <div className={styles[\"imageeditor--settings\"]}>\r\n          <p className={styles[\"imageeditor--settings--label\"]}>Height</p>\r\n          <input\r\n            type=\"number\"\r\n            value={height}\r\n            className={styles[\"imageeditor--settings--input\"]}\r\n            min={minH}\r\n            max={maxH}\r\n            onChange={handleHeightChange}\r\n          />\r\n          <p className={styles[\"imageeditor--settings--helper\"]}>\r\n            Min:{minH}/Max:{maxH}\r\n          </p>\r\n        </div>\r\n        <div className={styles[\"imageeditor--settings\"]}>\r\n          <p className={styles[\"imageeditor--settings--label\"]}>\r\n            Maintain aspect ratio\r\n          </p>\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={aspectRatio}\r\n            onChange={handleAspectRatioChange}\r\n            className={styles[\"imageeditor--settings--input\"]}\r\n          />\r\n        </div>\r\n        <div className={styles[\"imageeditor--settings\"]}>\r\n          <button\r\n            onClick={() => {\r\n              setImage(null);\r\n            }}\r\n          >\r\n            BACK\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              let canvas = canvasRef.current;\r\n\r\n              if (canvas.width > maxW) {\r\n                alert(\"wrong width\");\r\n              } else if (canvas.height > maxH) {\r\n                alert(\"wrong height\");\r\n              } else {\r\n                setresultCanvas(canvasRef.current);\r\n                setImage(null);\r\n              }\r\n            }}\r\n          >\r\n            Continue\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <canvas className={styles[\"imageeditor--canvas\"]} ref={canvasRef} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageEditor;\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".wV07x13YM6rHskuuB9Pw{display:inline-block;position:relative}.DN9OANYMuk22BSgGVzqf{color:#fff;display:grid;place-items:center;gap:10px 0}.le9mZxvQrehHWkueKLZ8{display:grid;grid-template-columns:1fr 1fr;gap:10px;padding-top:20px}.ciNslGDmmJds2PdIRW5Z{font-size:24px}.wriGCyOpdGVuYBBpJ1V5{font-size:16px}.HXqaVxv_pkouxEqA9tgk{border:none;border-bottom:1px solid #fff;background:rgba(0,0,0,0);padding:10px 0;width:100%;outline:none;color:#fff;max-width:100%}.HXqaVxv_pkouxEqA9tgk::placeholder{color:#fff}.VwA6uG0W45mPT0UvPN1B{padding:10px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/presentation/components/image_editor/ImageEditor.module.scss\"],\"names\":[],\"mappings\":\"AAKA,sBACE,oBAAA,CACA,iBAAA,CAEA,sBACE,UAAA,CACA,YAAA,CACA,kBAAA,CACA,UAAA,CACA,sBACE,YAAA,CACA,6BAAA,CACA,QAAA,CACA,gBAAA,CAGF,sBACE,cAAA,CAEF,sBACE,cAAA,CAEF,sBACE,WAAA,CACA,4BA7BS,CA8BT,wBAAA,CACA,cA9BU,CA+BV,UAAA,CACA,YAAA,CACA,UAhCQ,CAiCR,cAAA,CACA,mCACE,UAnCM,CAuCZ,sBACE,YAvCa\",\"sourcesContent\":[\"$input-border: 1px solid #fff;\\r\\n$input-padding: 10px 0;\\r\\n$input-color: #fff;\\r\\n$canvas-padding: 10px;\\r\\n\\r\\n.imageeditor {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n\\r\\n  &--settings {\\r\\n    color: white;\\r\\n    display: grid;\\r\\n    place-items: center;\\r\\n    gap: 10px 0;\\r\\n    &--container {\\r\\n      display: grid;\\r\\n      grid-template-columns: 1fr 1fr;\\r\\n      gap: 10px;\\r\\n      padding-top: 20px;\\r\\n    }\\r\\n\\r\\n    &--label {\\r\\n      font-size: 24px;\\r\\n    }\\r\\n    &--helper {\\r\\n      font-size: 16px;\\r\\n    }\\r\\n    &--input {\\r\\n      border: none;\\r\\n      border-bottom: $input-border;\\r\\n      background: transparent;\\r\\n      padding: $input-padding;\\r\\n      width: 100%;\\r\\n      outline: none;\\r\\n      color: $input-color;\\r\\n      max-width: 100%;\\r\\n      &::placeholder {\\r\\n        color: $input-color;\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n  &--canvas {\\r\\n    padding: $canvas-padding;\\r\\n  }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"imageeditor\": \"wV07x13YM6rHskuuB9Pw\",\n\t\"imageeditor--settings\": \"DN9OANYMuk22BSgGVzqf\",\n\t\"imageeditor--settings--container\": \"le9mZxvQrehHWkueKLZ8\",\n\t\"imageeditor--settings--label\": \"ciNslGDmmJds2PdIRW5Z\",\n\t\"imageeditor--settings--helper\": \"wriGCyOpdGVuYBBpJ1V5\",\n\t\"imageeditor--settings--input\": \"HXqaVxv_pkouxEqA9tgk\",\n\t\"imageeditor--canvas\": \"VwA6uG0W45mPT0UvPN1B\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","Image","setImage","setresultCanvas","maxW","maxH","canvasRef","useRef","width","setWidth","useState","naturalWidth","height","setHeight","naturalHeight","aspectRatio","setAspectRatio","useEffect","canvas","current","context","getContext","clearRect","drawImage","handleResize","className","styles","type","value","min","max","onChange","event","newWidth","Number","target","newHeight","checked","onClick","alert","ref","___CSS_LOADER_EXPORT___","push","module","id","locals"],"sourceRoot":""}