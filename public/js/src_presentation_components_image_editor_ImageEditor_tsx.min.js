/*! For license information please see src_presentation_components_image_editor_ImageEditor_tsx.min.js.LICENSE.txt */
"use strict";(self.webpackChunkfactorio_blueprint=self.webpackChunkfactorio_blueprint||[]).push([["src_presentation_components_image_editor_ImageEditor_tsx"],{"./src/presentation/components/image_editor/ImageEditor.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ImageEditor.module.scss */ "./src/presentation/components/image_editor/ImageEditor.module.scss");\n\n\nconst ImageEditor = ({\n  Image,\n  setImage,\n  setresultCanvas,\n  maxW,\n  maxH\n}) => {\n  const minW = 5,\n    minH = 5;\n  const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const [width, setWidth] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Image.naturalWidth);\n  const [height, setHeight] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Image.naturalHeight);\n  const [aspectRatio, setAspectRatio] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  const handleResize = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const context = canvas.getContext("2d");\n    if (!context) return;\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    canvas.width = width;\n    canvas.height = height;\n    context.drawImage(Image, 0, 0, width, height);\n  };\n  const handleAspectRatioChange = event => {\n    setAspectRatio(event.target.checked);\n  };\n  const handleWidthChange = event => {\n    let newWidth = Number(event.target.value);\n    if (newWidth > maxW) {\n      newWidth = maxW;\n    }\n    if (aspectRatio && Image) {\n      let newHeight = newWidth / Image.width * Image.height;\n      if (newHeight > maxH) {\n        setHeight(maxH);\n        setWidth(maxH / Image.height * Image.width);\n      } else {\n        setHeight(newHeight);\n        setWidth(newWidth);\n      }\n    } else {\n      setWidth(newWidth);\n    }\n  };\n  const handleHeightChange = event => {\n    let newHeight = Number(event.target.value);\n    if (newHeight > maxH) {\n      newHeight = maxH;\n    }\n    if (aspectRatio && Image) {\n      let newWidth = newHeight / Image.height * Image.width;\n      if (newWidth > maxW) {\n        setWidth(maxW);\n        setWidth(newHeight / Image.height * maxW);\n      } else {\n        setWidth(newWidth);\n        setHeight(newHeight);\n      }\n    } else {\n      setHeight(newHeight);\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    handleResize();\n  }, [width, height]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings--container"]\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings"]\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings--label"]\n  }, "Width"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {\n    type: "number",\n    value: width,\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings--input"],\n    min: minW,\n    max: maxW,\n    onChange: handleWidthChange\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings--helper"]\n  }, "Min:", minW, "/Max:", maxW)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings"]\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings--label"]\n  }, "Height"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {\n    type: "number",\n    value: height,\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings--input"],\n    min: minH,\n    max: maxH,\n    onChange: handleHeightChange\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings--helper"]\n  }, "Min:", minH, "/Max:", maxH)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings"]\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", {\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings--label"]\n  }, "Maintain aspect ratio"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {\n    type: "checkbox",\n    checked: aspectRatio,\n    onChange: handleAspectRatioChange,\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings--input"]\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", {\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--settings"]\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    onClick: () => {\n      setImage(null);\n    }\n  }, "BACK"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", {\n    onClick: () => {\n      let canvas = canvasRef.current;\n      if (canvas.width > maxW) {\n        alert("wrong width");\n      } else if (canvas.height > maxH) {\n        alert("wrong height");\n      } else {\n        setresultCanvas(canvasRef.current);\n        setImage(null);\n      }\n    }\n  }, "Continue"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("canvas", {\n    className: _ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"]["imageeditor--canvas"],\n    ref: canvasRef\n  }));\n};\n/* harmony default export */ __webpack_exports__["default"] = (ImageEditor);\n\n//# sourceURL=webpack://factorio-blueprint/./src/presentation/components/image_editor/ImageEditor.tsx?')},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./src/presentation/components/image_editor/ImageEditor.module.scss":function(module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ".wV07x13YM6rHskuuB9Pw {\\n  display: inline-block;\\n  position: relative;\\n}\\n.DN9OANYMuk22BSgGVzqf {\\n  color: white;\\n  display: grid;\\n  place-items: center;\\n  gap: 10px 0;\\n}\\n.le9mZxvQrehHWkueKLZ8 {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  gap: 10px;\\n  padding-top: 20px;\\n}\\n.ciNslGDmmJds2PdIRW5Z {\\n  font-size: 24px;\\n}\\n.wriGCyOpdGVuYBBpJ1V5 {\\n  font-size: 16px;\\n}\\n.HXqaVxv_pkouxEqA9tgk {\\n  border: none;\\n  border-bottom: 1px solid #fff;\\n  background: transparent;\\n  padding: 10px 0;\\n  width: 100%;\\n  outline: none;\\n  color: #fff;\\n  max-width: 100%;\\n}\\n.HXqaVxv_pkouxEqA9tgk::placeholder {\\n  color: #fff;\\n}\\n.VwA6uG0W45mPT0UvPN1B {\\n  padding: 10px;\\n}", "",{"version":3,"sources":["webpack://./src/presentation/components/image_editor/ImageEditor.module.scss"],"names":[],"mappings":"AAKA;EACE,qBAAA;EACA,kBAAA;AAJF;AAME;EACE,YAAA;EACA,aAAA;EACA,mBAAA;EACA,WAAA;AAJJ;AAKI;EACE,aAAA;EACA,8BAAA;EACA,SAAA;EACA,iBAAA;AAHN;AAMI;EACE,eAAA;AAJN;AAMI;EACE,eAAA;AAJN;AAMI;EACE,YAAA;EACA,6BA7BS;EA8BT,uBAAA;EACA,eA9BU;EA+BV,WAAA;EACA,aAAA;EACA,WAhCQ;EAiCR,eAAA;AAJN;AAKM;EACE,WAnCM;AAgCd;AAOE;EACE,aAvCa;AAkCjB","sourcesContent":["$input-border: 1px solid #fff;\\r\\n$input-padding: 10px 0;\\r\\n$input-color: #fff;\\r\\n$canvas-padding: 10px;\\r\\n\\r\\n.imageeditor {\\r\\n  display: inline-block;\\r\\n  position: relative;\\r\\n\\r\\n  &--settings {\\r\\n    color: white;\\r\\n    display: grid;\\r\\n    place-items: center;\\r\\n    gap: 10px 0;\\r\\n    &--container {\\r\\n      display: grid;\\r\\n      grid-template-columns: 1fr 1fr;\\r\\n      gap: 10px;\\r\\n      padding-top: 20px;\\r\\n    }\\r\\n\\r\\n    &--label {\\r\\n      font-size: 24px;\\r\\n    }\\r\\n    &--helper {\\r\\n      font-size: 16px;\\r\\n    }\\r\\n    &--input {\\r\\n      border: none;\\r\\n      border-bottom: $input-border;\\r\\n      background: transparent;\\r\\n      padding: $input-padding;\\r\\n      width: 100%;\\r\\n      outline: none;\\r\\n      color: $input-color;\\r\\n      max-width: 100%;\\r\\n      &::placeholder {\\r\\n        color: $input-color;\\r\\n      }\\r\\n    }\\r\\n  }\\r\\n  &--canvas {\\r\\n    padding: $canvas-padding;\\r\\n  }\\r\\n}\\r\\n"],"sourceRoot":""}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t"imageeditor": "wV07x13YM6rHskuuB9Pw",\n\t"imageeditor--settings": "DN9OANYMuk22BSgGVzqf",\n\t"imageeditor--settings--container": "le9mZxvQrehHWkueKLZ8",\n\t"imageeditor--settings--label": "ciNslGDmmJds2PdIRW5Z",\n\t"imageeditor--settings--helper": "wriGCyOpdGVuYBBpJ1V5",\n\t"imageeditor--settings--input": "HXqaVxv_pkouxEqA9tgk",\n\t"imageeditor--canvas": "VwA6uG0W45mPT0UvPN1B"\n};\n/* harmony default export */ __webpack_exports__["default"] = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack://factorio-blueprint/./src/presentation/components/image_editor/ImageEditor.module.scss?./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet%5B1%5D.rules%5B2%5D.use%5B2%5D')},"./src/presentation/components/image_editor/ImageEditor.module.scss":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./ImageEditor.module.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./src/presentation/components/image_editor/ImageEditor.module.scss");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\n\n      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");\n    \noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);\n\n\n\n\n       /* harmony default export */ __webpack_exports__["default"] = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_2_use_2_ImageEditor_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);\n\n\n//# sourceURL=webpack://factorio-blueprint/./src/presentation/components/image_editor/ImageEditor.module.scss?')}}]);