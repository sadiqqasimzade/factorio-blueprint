/*! For license information please see src_presentation_pages_music_converter_MusicConverterPage_tsx.min.js.LICENSE.txt */
"use strict";(self.webpackChunkfactorio_blueprint=self.webpackChunkfactorio_blueprint||[]).push([["src_presentation_pages_music_converter_MusicConverterPage_tsx"],{"./src/presentation/pages/music_converter/MusicConverterPage.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction MusicConverterPage() {\n  const [audioBuffer, setAudioBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [frequencyData, setFrequencyData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const handleAudioFileInputChange = async event => {\n    const files = event.target.files;\n    if (files && files.length > 0) {\n      const file = files[0];\n      const audioContext = new AudioContext();\n      const fileBuffer = await file.arrayBuffer();\n      audioContext.decodeAudioData(fileBuffer, buffer => {\n        setAudioBuffer(buffer);\n        const analyser = audioContext.createAnalyser();\n        analyser.fftSize = 2048;\n        const bufferSource = audioContext.createBufferSource();\n        bufferSource.buffer = buffer;\n        bufferSource.connect(analyser);\n        analyser.connect(audioContext.destination);\n        const frequencyData = new Uint8Array(analyser.frequencyBinCount);\n        setFrequencyData(frequencyData);\n        const updateFrequencyData = () => {\n          analyser.getByteFrequencyData(frequencyData);\n          setFrequencyData(new Uint8Array(frequencyData));\n          setTimeout(updateFrequencyData, 250);\n        };\n        setTimeout(updateFrequencyData, 250);\n      });\n    }\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("input", {\n    type: "file",\n    accept: "audio/*",\n    onChange: handleAudioFileInputChange\n  }), frequencyData && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement("p", null, Array.from(frequencyData.slice(0, 150)).map(value => Math.floor(value / 2)).join(", ")));\n}\n/* harmony default export */ __webpack_exports__["default"] = (MusicConverterPage);\n\n//# sourceURL=webpack://factorio-blueprint/./src/presentation/pages/music_converter/MusicConverterPage.tsx?')}}]);