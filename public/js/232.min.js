"use strict";(self.webpackChunkfactorio_blueprint=self.webpackChunkfactorio_blueprint||[]).push([[232],{232:function(i,n,t){t.r(n),t.d(n,{default:function(){return M}});var e=t(294),a=t(379),l=t.n(a),s=t(795),r=t.n(s),o=t(569),g=t.n(o),c=t(565),u=t.n(c),h=t(216),d=t.n(h),_=t(589),p=t.n(_),m=t(548),f={};f.styleTagTransform=p(),f.setAttributes=u(),f.insert=g().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=d(),l()(m.Z,f);var v=m.Z&&m.Z.locals?m.Z.locals:void 0;let y,b,w,A;!function(i){i[i.latest=281479276527617]="latest"}(y||(y={})),function(i){i.Fluid="fluid",i.Item="item",i.Virtual="virtual",i.Tile="tile",i.Recipe="recipe"}(b||(b={})),function(i){i.constant_combinator="constant-combinator",i.substation="substation",i.arithmetic_combinator="arithmetic-combinator",i.small_lamp="small-lamp",i.medium_electric_pole="medium-electric-pole"}(w||(w={})),function(i){i.addition="+",i.subtraction="âˆ’",i.multiplication="*",i.division="/",i.modulo="%",i.exponentiation="^",i.left_bit_shift="<<",i.right_bit_shift=">>",i.and="AND",i.or="OR",i.xor="XOR"}(A||(A={}));const V={signal_red:{type:b.Virtual,name:"signal-red"},signal_green:{type:b.Virtual,name:"signal-green"},signal_blue:{type:b.Virtual,name:"signal-blue"},signal_yellow:{type:b.Virtual,name:"signal-yellow"},signal_pink:{type:b.Virtual,name:"signal-pink"},signal_cyan:{type:b.Virtual,name:"signal-cyan"},signal_white:{type:b.Virtual,name:"signal-white"},signal_0:{type:b.Virtual,name:"signal-0"},signal_1:{type:b.Virtual,name:"signal-1"},signal_2:{type:b.Virtual,name:"signal-2"},signal_3:{type:b.Virtual,name:"signal-3"},signal_4:{type:b.Virtual,name:"signal-4"},signal_5:{type:b.Virtual,name:"signal-5"},signal_6:{type:b.Virtual,name:"signal-6"},signal_7:{type:b.Virtual,name:"signal-7"},signal_8:{type:b.Virtual,name:"signal-8"},signal_9:{type:b.Virtual,name:"signal-9"},signal_each:{type:b.Virtual,name:"signal-each"},signal_a:{type:b.Virtual,name:"signal-A"},signal_b:{type:b.Virtual,name:"signal-B"},signal_c:{type:b.Virtual,name:"signal-C"},signal_d:{type:b.Virtual,name:"signal-D"},signal_e:{type:b.Virtual,name:"signal-E"},signal_f:{type:b.Virtual,name:"signal-F"},signal_g:{type:b.Virtual,name:"signal-G"},signal_h:{type:b.Virtual,name:"signal-H"},signal_i:{type:b.Virtual,name:"signal-I"},signal_j:{type:b.Virtual,name:"signal-J"}},x=[V.signal_white,V.signal_cyan,V.signal_pink,V.signal_yellow,V.signal_blue,V.signal_green,V.signal_red],C=[V.signal_0,V.signal_1,V.signal_2,V.signal_3,V.signal_4,V.signal_5,V.signal_6,V.signal_7,V.signal_8,V.signal_9,V.signal_a,V.signal_b,V.signal_c,V.signal_d,V.signal_e,V.signal_f,V.signal_g,V.signal_h,V.signal_i,V.signal_j];function k(i,n){var t,e,a,l=16777215;for(a=0;a<i.length;a++)(e=F(i[a],n))<l&&(l=e,t=i[a]);return t}function F(i,n){return i.length&&n.length?F(i.slice(2),n.slice(2))+Math.abs(parseInt(i.slice(0,2),16)-parseInt(n.slice(0,2),16)):0}function B(i){var n=i.toString(16);return 1==n.length?"0"+n:n}function j(i){var n=i.getContext("2d",{willReadFrequently:!0}),t={ff0000:V.signal_red,"0000FF":V.signal_blue,FFFFFF:V.signal_white,FFFF00:V.signal_yellow,"008000":V.signal_green,ffc0cb:V.signal_pink,"30d5c8":V.signal_cyan},e=[];for(var a in t)e.push(a);var l=[];let s=[],r=[],o=Math.ceil(i.height/20);for(let a=0;a<i.width;a++){l=[];for(let r=0;r<o;r++){s=[];for(let l=0;l<i.height;l+=o){let i=n.getImageData(a,l,1,1).data,r=(c=i[0],u=i[1],h=i[2],B(c)+B(u)+B(h));r=r.length<6?r.replace(/(.)/g,"$1$1"):r;var g=k(e,r);s.push(-(x.indexOf(t[g])+1))}l.push(s)}r.push(l)}var c,u,h;return r}function I(i,n,t){return n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}class Z{constructor(i,n,t){I(this,"icons",void 0),I(this,"entities",void 0),I(this,"item",void 0),I(this,"version",void 0),this.icons=i,this.entities=n,this.item="blueprint",this.version=t}}function E(i,n,t){return n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}class P{constructor(i,n,t,e,a,l,s,r){E(this,"entity_number",void 0),E(this,"name",void 0),E(this,"position",void 0),E(this,"connections",void 0),E(this,"direction",void 0),E(this,"control_behavior",void 0),E(this,"neighbours",void 0),this.entity_number=i,this.name=n,this.position={x:t,y:e},this.connections=a,this.direction=l,this.control_behavior=s,this.neighbours=r}}function R(i,n,t){return n in i?Object.defineProperty(i,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[n]=t,i}class O{constructor(i,n){R(this,"signal",void 0),R(this,"index",void 0),this.signal=i,this.index=n}}var S=(i,n,t)=>{if(i<5)throw"min width is 5";if(n<5)throw"min height is 5";if(n>100)throw"max height is 100";if(i!=t.length)throw"width dont match with array's length";for(var e=4,a=[4],l=[4];e+9<9*Math.ceil(i/9);)a.push(e+9),e+=9;for(e=4;e+9<9*Math.ceil(n/9);)l.push(e+9),e+=9;var s=[],r=0,o=0;for(s.push(new P(1e8,w.constant_combinator,-1,-1,{1:{red:[{entity_id:99999999}]}},void 0,{filters:[{signal:V.signal_red,count:-6,index:1},{signal:V.signal_green,count:-5,index:2},{signal:V.signal_blue,count:-4,index:3},{signal:V.signal_yellow,count:-3,index:4},{signal:V.signal_pink,count:-2,index:5},{signal:V.signal_cyan,count:-1,index:6},{signal:V.signal_white,count:1,index:7}]}));o<i;){let e=[];for(let i=0;i<t[o].length;i++)e.push({signal:C[i],count:t[o][i],index:i+1});for(let e=0;e<t[o].length;e++){let a=[];for(let i=0;i<t[o][e].length;i++)a.push({signal:C[i],count:t[o][e][i],index:i+1});s.push(new P((i*n*3+o)*(e+1),w.constant_combinator,2*o+1,-6+e,{1:{green:[{entity_id:3*o+e*i*3,circuit_id:1}]}},void 0,{filters:a}))}s.push(new P(1e8-(o+1),w.medium_electric_pole,2*o,-1,{1:{red:[{entity_id:3*o,circuit_id:1},o+1!=i?{entity_id:1e8-(o+2)}:void 0]}})),o++}for(o=0;r<n;){for(;o<i;)l.includes(r)&&a.includes(o)?(s.push(new P(r*i*3+3*o,w.substation,2*o+.5,2*r+.5,{1:{green:[{entity_id:(r+t[0].length-1)*i*3+3*o+3*i,circuit_id:1}]}},void 0,void 0,[a.slice(0,a.length-1).includes(o+9)?r*i*3+3*(o+9):a.includes(o+9)?i*n*3+i+(o+9)*r:void 0,l.slice(0,l.length-1).includes(r+9)?(r+9)*i*3+3*o:l.includes(r+9)?i*n*3+i+(r+9)*o:void 0])),o+=1):(s.push(new P(r*i*3+3*o,w.arithmetic_combinator,2*o+.5,2*r,{1:{green:[r+t[0].length!=n?{entity_id:(r+t[0].length-1)*i*3+3*o+3*i,circuit_id:1}:void 0],red:[r+1!=n?{entity_id:r*i*3+3*o+3*i,circuit_id:1}:void 0,r-1>=0?{entity_id:r*i*3+3*o-3*i,circuit_id:1}:void 0]},2:{red:[{entity_id:r*i*3+3*o+1}]}},6,{arithmetic_conditions:{first_signal:V.signal_each,second_signal:C[Math.floor(r/t[0].length)],operation:"-",output_signal:V.signal_each}})),s.push(new P(r*i*3+3*o+1,w.small_lamp,2*o,2*r+1,{1:{red:[{entity_id:r*i*3+3*o,circuit_id:2},{entity_id:r*i*3+3*o+2}]}},void 0,{circuit_condition:{first_signal:V.signal_white,constant:1,comparator:">"},use_colors:!0})),s.push(new P(r*i*3+3*o+2,w.small_lamp,2*o+1,2*r+1,{1:{red:[{entity_id:r*i*3+3*o+1}]}},void 0,{circuit_condition:{first_signal:V.signal_white,constant:1,comparator:">"},use_colors:!0})),o+=1);o<=a[a.length-1]&&l.includes(r)&&s.push(new P(i*n*3+i+a[a.length-1]*r,w.substation,2*a[a.length-1]+.5,2*r+.5,void 0,void 0,void 0,[l.includes(r+9)?i*n*3+i+(r+9)*a[a.length-1]:void 0])),o=0,r+=1}if(o=0,r<=l[l.length-1])for(;o<i;)a.includes(o)&&s.push(new P(i*n*3+i+l[l.length-1]*o,w.substation,2*o+.5,2*l[l.length-1]+.5,void 0,void 0,void 0,[a.includes(o+9)?i*n*3+i+(o+9)*l[l.length-1]:void 0])),o++;return new Z([new O(V.signal_white,1)],s,y.latest)},W=t(707),H=t(409),M=({resultCanvas:i})=>e.createElement("div",{className:v["result--container"]},e.createElement("p",{className:v["result--help"]},"Click on blueprint string to copy"),e.createElement("p",{className:v.result,onClick:H.Z},(0,W.Z)({blueprint:S(i.width,i.height,j(i))})))},548:function(i,n,t){var e=t(537),a=t.n(e),l=t(879),s=t.n(l)()(a());s.push([i.id,".UVvVC09WzHp3ePcboyn8{word-break:break-all;max-height:240px;overflow:auto}.Zh7u2EWtVSvwRpbPyXbu{color:#fff}.vBkmBBSjaxJKHm0B2Wpj{color:#fff;font-size:46px}","",{version:3,sources:["webpack://./src/presentation/components/result/Result.module.scss"],names:[],mappings:"AAAA,sBACI,oBAAA,CACA,gBAAA,CACA,aAAA,CACA,sBACI,UAAA,CAEJ,sBACI,UAAA,CACA,cAAA",sourcesContent:[".result{\r\n    word-break: break-all;\r\n    max-height: 240px;\r\n    overflow: auto  ;\r\n    &--container{\r\n        color: white;\r\n    }\r\n    &--help{\r\n        color: white;\r\n        font-size: 46px;\r\n    }\r\n}\r\n\r\n"],sourceRoot:""}]),s.locals={result:"UVvVC09WzHp3ePcboyn8","result--container":"Zh7u2EWtVSvwRpbPyXbu","result--help":"vBkmBBSjaxJKHm0B2Wpj"},n.Z=s}}]);
//# sourceMappingURL=232.min.js.map